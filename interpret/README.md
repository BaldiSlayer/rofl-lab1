# OpenAPI generated server

## Overview
This server was generated by the [OpenAPI Generator](https://openapi-generator.tech) project. By using the
[OpenAPI-Spec](https://openapis.org) from a remote server, you can easily generate a server stub.  This
is an example of building a OpenAPI-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Requirements
Python 3.5.2+

## Usage
To run the server, please execute the following from the root directory:

```
pip3 install -r requirements.txt
python3 -m openapi_server
```

and open your browser to here:

```
http://localhost:8080/ui/
```

Your OpenAPI definition lives here:

```
http://localhost:8080/openapi.json
```

### POST /trs/interpret

Trs:

```
f(x, g(y)) = x
----------
f(x, y) = 5*xy + 1
g(x) = x{2}
```

``` json
{
  "interpretations": [
    {
      "args": [
        "x",
        "y"
      ],
      "monomials": [
        {
          "factors": [
            {
              "coefficient": 5,
              "variable": "x"
            },
            {
              "variable": "y"
            }
          ]
        },
        {
          "constant": 1
        }
      ],
      "name": "f"
    },
    {
      "args": [
        "x"
      ],
      "monomials": [
        {
          "factors": [
            {
              "power": 2,
              "variable": "x"
            }
          ]
        }
      ],
      "name": "g"
    }
  ],
  "rules": [
    {
      "lhs": {
        "args": [
          {
            "letter": {
              "isVariable": true,
              "name": "x"
            }
          },
          {
            "letter": {
              "isVariable": false,
              "name": "g"
            },
            "args": [
              {
                "letter": {
                  "isVariable": true,
                  "name": "y"
                }
              }
            ]
          }
        ],
        "letter": {
          "isVariable": false,
          "name": "f"
        }
      },
      "rhs": {
        "letter": {
          "isVariable": true,
          "name": "x"
        }
      }
    }
  ],
  "variables": [
    "x",
    "y"
  ]
}
```

Request:

``` sh
curl --data '{
  "interpretations": [
    {
      "args": [
        "x",
        "y"
      ],
      "monomials": [
        {
          "factors": [
            {
              "coefficient": 5,
              "variable": "x"
            },
            {
              "variable": "y"
            }
          ]
        },
        {
          "constant": 1
        }
      ],
      "name": "f"
    },
    {
      "args": [
        "x"
      ],
      "monomials": [
        {
          "factors": [
            {
              "power": 2,
              "variable": "x"
            }
          ]
        }
      ],
      "name": "g"
    }
  ],
  "rules": [
    {
      "lhs": {
        "args": [
          {
            "letter": {
              "isVariable": true,
              "name": "x"
            }
          },
          {
            "letter": {
              "isVariable": false,
              "name": "g"
            },
            "args": [
              {
                "letter": {
                  "isVariable": true,
                  "name": "y"
                }
              }
            ]
          }
        ],
        "letter": {
          "isVariable": false,
          "name": "f"
        }
      },
      "rhs": {
        "letter": {
          "isVariable": true,
          "name": "x"
        }
      }
    }
  ],
  "variables": [
    "x",
    "y"
  ]
}' --header 'Content-Type: application/json' -v http://localhost:8080/trs/interpret
```

Output:

``` sh
trs variables are ['x', 'y']
```
